/* 
MK Web Notifications v1.5.3 - jQuery Plug-In JavaScript.
A easy to use jQuery plug-in for in browser notifications and toasts.
Documentation: https://github.com/<id>.
LICENSE: MIT. 
*/
var icons={default:"fa fa-bell",primary:"fa fa-bell",success:"fa fa-check",danger:"fa fa-exclamation-triangle",warning:"fa fa-exclamation",info:"fa fa-info",light:"fa fa-bell",dark:"fa fa-bell",purple:"fa fa-bell"},defaultSound="./src/sound/notification.mp3",defaultClose="./src/sound/close.mp3",uniqueId=0;function mkNotifications(o){config=void 0==o?{positionX:"right",positionY:"bottom",scrollable:!0,rtl:!1,max:5}:{positionX:void 0!=o.positionX?o.positionX:"right",positionY:void 0!=o.positionY?o.positionY:"bottom",scrollable:void 0==o.scrollable||o.scrollable,rtl:void 0!=o.rtl&&o.rtl,max:void 0!=o.max?o.max:5},1==config.scrollable?scrollable=" mk-scrollable":scrollable="",1==config.rtl?rtl=" mk-rtl":rtl="";var n='<div id="mk-notifications" data-max="'+config.max+'" class="mk-notifications mk-'+config.positionY+" mk-"+config.positionX+scrollable+rtl+'"></div>',l=document.getElementById("mk-notifications");void 0!=l&&$(l).remove(),$("body").prepend(n)}function mkNoti(o,n,l){var i=document.getElementById("mk-notifications"),a={status:"default",icon:{class:null,color:null,background:null},link:{url:null,target:"_self",function:null},dismissable:!0,callback:null,sound:!1,customSound:null,duration:7e3};if(void 0!==l)a={status:void 0!=l.status?l.status:"default",icon:void 0==l.icon?a.icon:{class:void 0!=l.icon.class?l.icon.class:null,color:void 0!=l.icon.color?l.icon.color:null,background:void 0!=l.icon.background?l.icon.background:null},link:void 0==l.link?a.link:{url:void 0!=l.link.url?l.link.url:null,target:void 0!=l.link.target?l.link.target:"_self",function:void 0!=l.link.function?l.link.function:null},dismissable:void 0==l.dismissable||l.dismissable,callback:void 0!=l.callback?l.callback:null,sound:void 0!=l.sound&&l.sound,customSound:void 0==l.customSound?a.customSound:{onShow:void 0!=l.customSound.onShow?l.customSound.onShow:defaultSound,onClose:void 0!=l.customSound.onClose?l.customSound.onClose:defaultClose},duration:void 0!=l.duration?l.duration:7e3};var t=0,s=0;void 0!=o&&(t+=1.1*(s=o.length)),s>=70&&(o=o.substr(0,67)+"...");var d=0;void 0!=n&&(t+=d=n.length),t>=140?n="":d>=140-1.1*s&&(n=n.substr(0,140-1.1*s)+"...");var e="";null!=a.icon.color&&(e="color:"+a.icon.color+";");var c="";null!=a.icon.background&&(c="background:"+a.icon.background+";");var u="";""==e&&""==c||(u=' style="'+e+c+'"');var m='<i class="'+(null!=a.icon.class?a.icon.class:icons[a.status])+'"></i>',r=uniqueId,k=null;null!=a.callback&&(k=!0);var f=" mk-hide",v=!1;1==a.dismissable&&(f="",v=!0);var g=!1,b=!1;!1!==a.sound&&(void 0!=a.customSound?(void 0!=a.customSound.onShow?(g=a.customSound.onShow,g=encodeURI(g)):(g=defaultSound,g=encodeURI(g)),void 0!=a.customSound.onClose?(b=a.customSound.onClose,b=encodeURI(b)):(b=defaultClose,b=encodeURI(b))):(g=defaultSound,g=encodeURI(g),b=defaultClose,b=encodeURI(b)));var p='<div class="mk-noti mk-'+a.status+'" data-unique="'+r+'" data-sound="'+g+'" data-close="'+b+'" data-dismiss="'+v+'" data-callback="'+k+'" data-duration="'+a.duration+'" id="mk-noti-'+r+'"><div'+u+' class="mk-icon">'+m+'</div><div class="mk-body"><i id="mk-close-'+r+'" class="fa fa-times mk-close'+f+'"></i><h3 class="mk-title">'+o+'</h3><p class="mk-text">'+n+"</p></div></div>";$(i).prepend(p);var S=document.getElementById("mk-close-"+r);$(S).on("click",function(o){o.stopImmediatePropagation(),closeMkNoti(r),1==k&&a.callback()});var h=document.getElementById("mk-noti-"+r);null!=a.link.url?($(h).addClass("mk-clickable"),$(h).on("click",function(o){o.stopImmediatePropagation(),window.open(a.link.url,a.link.target),null!=a.link.function&&a.link.function()})):null==a.link.url&&null!=a.link.function&&($(h).addClass("mk-clickable"),$(h).on("click",function(o){o.stopImmediatePropagation(),a.link.function()}));var C=$(".on-show").length,I=$(i).data("max");C<I||"null"==I?(setTimeout(function(){$(h).addClass("mk-show"),$(h).addClass("on-show"),mkSound(g)},100),setTimeout(function(){$(S).click()},a.duration)):$(h).addClass("mk-pending"),uniqueId++}function closeMkNoti(o){var n=document.getElementById("mk-noti-"+o);mkSound(n.dataset.close),$(n).removeClass("mk-show",$(function(){setTimeout(function(){$(n).remove();var o=$(".on-show").length,l=$("#mk-notifications").data("max");if(o<l||"null"==l)for(var i=l-o,a=0;a<i;a++){var t=document.getElementsByClassName("mk-pending")[document.getElementsByClassName("mk-pending").length-1];if(void 0!=t){var s=t.dataset.duration,d=t.dataset.dismiss,e=t.dataset.unique,c=t.dataset.sound;setTimeout(function(){$(t).addClass("mk-show"),$(t).addClass("on-show"),$(t).removeClass("mk-pending"),mkSound(c)},100),"true"==d&&setTimeout(function(){$("#mk-close-"+e).click()},s)}}},400)}))}function mkSound(o){"false"!==o&&!1!==o&&((o=new Audio(decodeURI(o))).loop=!1,o.play())}